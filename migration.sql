CREATE TABLE boxes (
  id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  kind VARCHAR(20) DEFAULT 'Box',
  color VARCHAR(100),
  fill_color VARCHAR(100),
  name VARCHAR(191),
  address VARCHAR(255),
  shared TINYINT(1) NOT NULL DEFAULT 0,
  draft TINYINT(1) NOT NULL DEFAULT 0,
  default_reserve INT NOT NULL DEFAULT 0,
  hierarchy_level INT,
  box_type VARCHAR(100),
  pole VARCHAR(191),
  certified TINYINT(1) NOT NULL DEFAULT 0,
  implanted TINYINT(1),
  max_distance DECIMAL(10,2),
  external_id JSON,
  template VARCHAR(191),
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE cables (
  id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  project VARCHAR(191) NOT NULL,
  color VARCHAR(100),
  cable_type VARCHAR(100) NOT NULL,
  box_a VARCHAR(191) NOT NULL,
  box_b VARCHAR(191) NOT NULL,
  hierarchy_level INT NOT NULL,
  name VARCHAR(191),
  fiber_number INT NOT NULL,
  loose_number INT NOT NULL,
  observation TEXT,
  orientation_a VARCHAR(50) NOT NULL,
  orientation_b VARCHAR(50) NOT NULL,
  implanted TINYINT(1) NOT NULL,
  length DECIMAL(10,2) NOT NULL,
  altitude_length DECIMAL(10,2) NOT NULL,
  ground_length DECIMAL(10,2) NOT NULL,
  loss DECIMAL(10,2) NOT NULL,
  idx INT,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE prospects (
  id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  phone VARCHAR(50),
  code VARCHAR(100),
  address VARCHAR(255),
  name VARCHAR(191),
  viable TINYINT(1),
  observation TEXT,
  coords_lat DECIMAL(9,6),
  coords_lng DECIMAL(9,6),
  external_id JSON,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;